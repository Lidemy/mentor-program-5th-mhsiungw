<!DOCTYPE html>

<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>新拖延運動報名表單</title>
  <link rel="stylesheet" href="https://necolas.github.io/normalize.css/8.0.1/normalize.css" />
  <link rel="stylesheet" href="./css.css" />
</head>

<body>
	<div class='wrapper'>
		<div class= 'top'>
			<h1>新拖延運動報名表單</h1>
			<p class='top__content'>活動日期：2020/12/10 ~ 202/12/11</p>
			<p class='top__content'>活動地點：台北市大安區新生南路二路 1 號</p>
			<p class= 'active'>* 必填</p>
		</div>

		<div class='main'>
			<form>
				<div class='main__question required hide__error'>
					<p>暱稱</p>
					<input type='text' placeholder='您的回答' />
					<div class='main__error hide__error__block'>請填寫暱稱</div>
				</div>

				<div class='main__question required hide__error'>
					<p>電子郵件</p>
					<input type='text' placeholder='您的電子郵件' />
					<div class='main__error hide__error__block'>請填寫電子郵件</div>
				</div>

				<div class='main__question required hide__error'>
					<p>手機號碼</p>
					<input type='text' placeholder='您的手機號碼' />
					<div class='main__error hide__error__block'>請填寫手機號碼</div>
				</div>
				
				<div class='main__question required hide__error'>
					<p>報名類型</p>
					<label class='main__checkbox'>
						<input id='checkbox' type='radio' name='main__radio'> 躺在床上用想像力創作 </input>
					</label>
						<br>
					<label class='main__checkbox'>
						<input id='checkbox' type='radio' name='main__radio'/> 趴在地上滑手機找現成的 </input>
					</label>
					<div class='main__error hide__error__block'>請勾選報名類型</div>
				</div>

				<div class='main__question required hide__error'>
					<p>怎麼知道這個活動的？</p>
					<input class='main__answer' type='text' placeholder='您的回答' />
					<div class='main__error hide__error__block'>請填寫回答</div>
				</div>

				<p>其他</p>
				<p class='main__question' style='font-size: 14px; '>對活動的一些建議</p>
				<input class='main__answer' type='text' placeholder='您的回答' />
				<div>
					<input type='submit' class='main__submit' value='提交'>
				</div>
				<p class='main__desc'>
					請勿透過表單送出您的密碼
				</p>
			</form>
		</div>
	</div>
	<footer>
		© 2020 © Copyright. All rights Reserved.
	</footer>

	<script>
		document.querySelector('form').addEventListener('submit', function(e){
			const elements = document.querySelectorAll('.required')
			let hasError = true
			let hasSelected = true
			for (let element of elements){
				const inputs = element.querySelectorAll('input[type=text]')
				for (let input of inputs){
					if(!input.value) {
						e.preventDefault()
						element.classList.remove('hide__error')
						hasError = true
					} else {
						element.classList.add('hide__error')
						hasError = false
					}
			}
		}
			
			for(let element of elements){
				const radios = element.querySelectorAll('input[type=radio]')
				if (!radios.length) continue
				let hasValue = [...radios].some(radio => radio.checked)
				if (!hasValue) {
					e.preventDefault()
					element.classList.remove('hide__error')
					hasSelected = false
				} else {
					element.classList.add('hide__error')
					hasSelected = true
				}
				
			}

			

			const inputs = document.querySelectorAll('.required input[type=text]')
			 if(hasError === false && hasSelected === true){
				let result = `
				暱稱：${inputs[0].value}, 
				電子郵件：${inputs[1].value}, 
				手機號碼：${inputs[2].value},
				怎麼知道這個活動的：${inputs[3].value}`
				alert(result)
			}
			
		}
	)
		
				
	</script>
</body>

</html>